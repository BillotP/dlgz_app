import{s as Dt,f as Ct,n as Ke,r as Lt,o as yt}from"../chunks/scheduler.883a76a4.js";import{S as It,i as At,g as r,s as p,m as K,h as i,j as u,y as j,c as g,f as d,n as Q,k as l,l as Me,A as Pe,B as ke,a as Ce,z as e,C as ft,D as ie,E as Be,F as vt,o as Ne,G as Vt}from"../chunks/index.faf2de05.js";import{e as we}from"../chunks/each.e59479a4.js";import{P as Ht}from"../chunks/public.a3e6d84f.js";import{b as _t}from"../chunks/paths.885f89db.js";function pt(s,t,n){const h=s.slice();return h[12]=t[n],h}function gt(s,t,n){const h=s.slice();return h[15]=t[n],h}function mt(s){let t,n,h;return{c(){t=r("a"),n=K("ðŸ”Ž"),this.h()},l(a){t=i(a,"A",{target:!0,href:!0});var f=u(t);n=Q(f,"ðŸ”Ž"),f.forEach(d),this.h()},h(){l(t,"target","_blank"),l(t,"href",h=`https://tzstats.com/${s[15].delegator}`)},m(a,f){Ce(a,t,f),e(t,n)},p(a,f){f&4&&h!==(h=`https://tzstats.com/${a[15].delegator}`)&&l(t,"href",h)},d(a){a&&d(t)}}}function bt(s){let t,n,h=s[15].timestamp+"",a,f,I,E=(Number(s[15].amount)/1e6).toLocaleString()+"",A,M,k,S,q=""+(s[15].delegator.length>0?s[15].delegator:"ðŸ‘» ðŸ¥–"),P,X,D,V,Y,Z=s[15].block+"",$,w,O,ne,F,y,v=s[15].delegator.length>0&&mt(s);return{c(){t=r("tr"),n=r("th"),a=K(h),f=p(),I=r("td"),A=K(E),M=p(),k=r("td"),S=r("a"),P=K(q),D=p(),v&&v.c(),V=p(),Y=r("td"),$=K(Z),w=p(),O=r("a"),ne=K("ðŸ”Ž"),y=p(),this.h()},l(_){t=i(_,"TR",{});var m=u(t);n=i(m,"TH",{});var ue=u(n);a=Q(ue,h),ue.forEach(d),f=g(m),I=i(m,"TD",{});var B=u(I);A=Q(B,E),B.forEach(d),M=g(m),k=i(m,"TD",{});var b=u(k);S=i(b,"A",{href:!0});var fe=u(S);P=Q(fe,q),fe.forEach(d),D=g(b),v&&v.l(b),b.forEach(d),V=g(m),Y=i(m,"TD",{});var z=u(Y);$=Q(z,Z),w=g(z),O=i(z,"A",{target:!0,href:!0});var De=u(O);ne=Q(De,"ðŸ”Ž"),De.forEach(d),z.forEach(d),y=g(m),m.forEach(d),this.h()},h(){l(S,"href",X=`${_t}/delegator/stats/${s[15].delegator}`),l(O,"target","_blank"),l(O,"href",F=`https://tzstats.com/${s[15].block}`)},m(_,m){Ce(_,t,m),e(t,n),e(n,a),e(t,f),e(t,I),e(I,A),e(t,M),e(t,k),e(k,S),e(S,P),e(k,D),v&&v.m(k,null),e(t,V),e(t,Y),e(Y,$),e(Y,w),e(Y,O),e(O,ne),e(t,y)},p(_,m){m&4&&h!==(h=_[15].timestamp+"")&&Ne(a,h),m&4&&E!==(E=(Number(_[15].amount)/1e6).toLocaleString()+"")&&Ne(A,E),m&4&&q!==(q=""+(_[15].delegator.length>0?_[15].delegator:"ðŸ‘» ðŸ¥–"))&&Ne(P,q),m&4&&X!==(X=`${_t}/delegator/stats/${_[15].delegator}`)&&l(S,"href",X),_[15].delegator.length>0?v?v.p(_,m):(v=mt(_),v.c(),v.m(k,null)):v&&(v.d(1),v=null),m&4&&Z!==(Z=_[15].block+"")&&Ne($,Z),m&4&&F!==(F=`https://tzstats.com/${_[15].block}`)&&l(O,"href",F)},d(_){_&&d(t),v&&v.d()}}}function Et(s){let t,n="Max limit is 100";return{c(){t=r("p"),t.textContent=n,this.h()},l(h){t=i(h,"P",{class:!0,["data-svelte-h"]:!0}),j(t)!=="svelte-myoeey"&&(t.textContent=n),this.h()},h(){l(t,"class","help is-danger")},m(h,a){Ce(h,t,a)},d(h){h&&d(t)}}}function Tt(s){let t,n=s[12]+"",h;return{c(){t=r("option"),h=K(n),this.h()},l(a){t=i(a,"OPTION",{});var f=u(t);h=Q(f,n),f.forEach(d),this.h()},h(){t.__value=s[12],ke(t,t.__value)},m(a,f){Ce(a,t,f),e(t,h)},p:Ke,d(a){a&&d(t)}}}function Mt(s){let t,n,h='<div class="hero-body"><span><h1 class="title">Tezos Delegation Events</h1> <p class="subtitle">Ordered by most recent first</p></span></div>',a,f,I,E,A,M,k,S='<tr><th><abbr title="Timestamp">Ts</abbr></th> <th><abbr title="Amount in XTZ">XTZ Amount</abbr></th> <th><abbr title="Delegator Address">Delegator</abbr></th> <th><abbr title="Block Height">Block</abbr></th></tr>',q,P,X,D,V,Y,Z,$,w,O,ne,F,y,v,_,m="Limit",ue,B,b,fe,z,De='<i class="fas fa-file"></i>',Se,W,Qe='<i class="fas fa-check"></i>',Oe,ze,x,ee,We="Page",Ue,R,N,je,oe,$e='<i class="fas fa-file"></i>',qe,ce,xe='<i class="fas fa-check"></i>',Ye,te,le,et="Year",Fe,ve,_e,U,J,tt="Any",Ge,ae,pe,G,Xe,Ze,de,lt='<button class="button is-link is-light">Cancel</button>',Re,at,ge=we(s[2].data),C=[];for(let o=0;o<ge.length;o+=1)C[o]=bt(gt(s,ge,o));let H=s[0].limit>100&&Et(),me=we(s[3]),L=[];for(let o=0;o<me.length;o+=1)L[o]=Tt(pt(s,me,o));return{c(){t=r("div"),n=r("div"),n.innerHTML=h,a=p(),f=r("div"),I=r("div"),E=r("div"),A=r("div"),M=r("table"),k=r("thead"),k.innerHTML=S,q=p(),P=r("tbody");for(let o=0;o<C.length;o+=1)C[o].c();X=p(),D=r("nav"),V=r("button"),Y=K("Previous"),$=p(),w=r("button"),O=K("Next page"),ne=p(),F=r("div"),y=r("div"),v=r("div"),_=r("label"),_.textContent=m,ue=p(),B=r("div"),b=r("input"),fe=p(),z=r("span"),z.innerHTML=De,Se=p(),W=r("span"),W.innerHTML=Qe,Oe=p(),H&&H.c(),ze=p(),x=r("div"),ee=r("label"),ee.textContent=We,Ue=p(),R=r("div"),N=r("input"),je=p(),oe=r("span"),oe.innerHTML=$e,qe=p(),ce=r("span"),ce.innerHTML=xe,Ye=p(),te=r("div"),le=r("label"),le.textContent=et,Fe=p(),ve=r("div"),_e=r("div"),U=r("select"),J=r("option"),J.textContent=tt;for(let o=0;o<L.length;o+=1)L[o].c();Ge=p(),ae=r("div"),pe=r("div"),G=r("button"),Xe=K("Submit"),Ze=p(),de=r("div"),de.innerHTML=lt,this.h()},l(o){t=i(o,"DIV",{class:!0});var T=u(t);n=i(T,"DIV",{class:!0,["data-svelte-h"]:!0}),j(n)!=="svelte-ka05lo"&&(n.innerHTML=h),a=g(T),f=i(T,"DIV",{class:!0});var c=u(f);I=i(c,"DIV",{class:!0});var se=u(I);E=i(se,"DIV",{class:!0});var Le=u(E);A=i(Le,"DIV",{class:!0,style:!0});var st=u(A);M=i(st,"TABLE",{class:!0});var ye=u(M);k=i(ye,"THEAD",{style:!0,["data-svelte-h"]:!0}),j(k)!=="svelte-o9bckt"&&(k.innerHTML=S),q=g(ye),P=i(ye,"TBODY",{style:!0});var rt=u(P);for(let he=0;he<C.length;he+=1)C[he].l(rt);rt.forEach(d),ye.forEach(d),st.forEach(d),X=g(Le),D=i(Le,"NAV",{class:!0,"aria-label":!0});var Ie=u(D);V=i(Ie,"BUTTON",{class:!0});var it=u(V);Y=Q(it,"Previous"),it.forEach(d),$=g(Ie),w=i(Ie,"BUTTON",{class:!0});var nt=u(w);O=Q(nt,"Next page"),nt.forEach(d),Ie.forEach(d),Le.forEach(d),se.forEach(d),ne=g(c),F=i(c,"DIV",{class:!0});var ot=u(F);y=i(ot,"DIV",{class:!0});var re=u(y);v=i(re,"DIV",{class:!0});var be=u(v);_=i(be,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),j(_)!=="svelte-1xsqupv"&&(_.textContent=m),ue=g(be),B=i(be,"DIV",{class:!0});var Ee=u(B);b=i(Ee,"INPUT",{id:!0,class:!0,type:!0,step:!0,min:!0,max:!0,placeholder:!0}),fe=g(Ee),z=i(Ee,"SPAN",{class:!0,["data-svelte-h"]:!0}),j(z)!=="svelte-1w12yst"&&(z.innerHTML=De),Se=g(Ee),W=i(Ee,"SPAN",{class:!0,["data-svelte-h"]:!0}),j(W)!=="svelte-yh3kr7"&&(W.innerHTML=Qe),Ee.forEach(d),Oe=g(be),H&&H.l(be),be.forEach(d),ze=g(re),x=i(re,"DIV",{class:!0});var Ae=u(x);ee=i(Ae,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),j(ee)!=="svelte-1uc60ab"&&(ee.textContent=We),Ue=g(Ae),R=i(Ae,"DIV",{class:!0});var Te=u(R);N=i(Te,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0,step:!0,min:!0}),je=g(Te),oe=i(Te,"SPAN",{class:!0,["data-svelte-h"]:!0}),j(oe)!=="svelte-1w12yst"&&(oe.innerHTML=$e),qe=g(Te),ce=i(Te,"SPAN",{class:!0,["data-svelte-h"]:!0}),j(ce)!=="svelte-1jqowi8"&&(ce.innerHTML=xe),Te.forEach(d),Ae.forEach(d),Ye=g(re),te=i(re,"DIV",{class:!0});var Ve=u(te);le=i(Ve,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),j(le)!=="svelte-1hlj0sz"&&(le.textContent=et),Fe=g(Ve),ve=i(Ve,"DIV",{class:!0});var ct=u(ve);_e=i(ct,"DIV",{class:!0});var dt=u(_e);U=i(dt,"SELECT",{id:!0});var Je=u(U);J=i(Je,"OPTION",{["data-svelte-h"]:!0}),j(J)!=="svelte-gccd3x"&&(J.textContent=tt);for(let he=0;he<L.length;he+=1)L[he].l(Je);Je.forEach(d),dt.forEach(d),ct.forEach(d),Ve.forEach(d),Ge=g(re),ae=i(re,"DIV",{class:!0});var He=u(ae);pe=i(He,"DIV",{class:!0});var ht=u(pe);G=i(ht,"BUTTON",{class:!0});var ut=u(G);Xe=Q(ut,"Submit"),ut.forEach(d),ht.forEach(d),Ze=g(He),de=i(He,"DIV",{class:!0,["data-svelte-h"]:!0}),j(de)!=="svelte-iq74vg"&&(de.innerHTML=lt),He.forEach(d),re.forEach(d),ot.forEach(d),c.forEach(d),T.forEach(d),this.h()},h(){l(n,"class","hero is-small is-primary"),Me(k,"width","100%"),Me(P,"height","100%"),l(M,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth"),l(A,"class","table-container"),Me(A,"height","35vh"),Me(A,"overflow-y","scroll"),l(V,"class","pagination-previous"),V.disabled=Z=s[0].page==0||s[1],l(w,"class","pagination-next"),w.disabled=s[1],l(D,"class","pagination is-centered"),l(D,"aria-label","pagination"),l(E,"class","card p-2"),l(I,"class","column"),l(_,"for","limit"),l(_,"class","label"),l(b,"id","limit"),l(b,"class","input"),l(b,"type","number"),l(b,"step","1"),l(b,"min","1"),l(b,"max","100"),l(b,"placeholder","Max results per page"),l(z,"class","icon is-small is-left"),l(W,"class","icon is-small is-right"),Pe(W,"is-danger",s[0].limit>100),l(B,"class","control has-icons-left has-icons-right"),l(v,"class","field"),l(ee,"for","page"),l(ee,"class","label"),l(N,"id","page"),l(N,"class","input is-success"),l(N,"type","number"),l(N,"placeholder","Page setting"),l(N,"step","1"),l(N,"min","0"),l(oe,"class","icon is-small is-left"),l(ce,"class","icon is-small is-right"),l(R,"class","control has-icons-left has-icons-right"),l(x,"class","field"),l(le,"for","year"),l(le,"class","label"),J.selected=!0,J.__value="",ke(J,J.__value),l(U,"id","year"),s[0].year===void 0&&Ct(()=>s[11].call(U)),l(_e,"class","select is-rounded is-fullwidth"),l(ve,"class","control is-expanded"),l(te,"class","field"),l(G,"class","button is-link"),G.disabled=s[1],Pe(G,"is-loading",s[1]),l(pe,"class","control"),l(de,"class","control"),l(ae,"class","field is-grouped"),l(y,"class","card p-2"),l(F,"class","column"),l(f,"class","colums is-mobile"),l(t,"class","hero is-fullheight-with-navbar")},m(o,T){Ce(o,t,T),e(t,n),e(t,a),e(t,f),e(f,I),e(I,E),e(E,A),e(A,M),e(M,k),e(M,q),e(M,P);for(let c=0;c<C.length;c+=1)C[c]&&C[c].m(P,null);e(E,X),e(E,D),e(D,V),e(V,Y),e(D,$),e(D,w),e(w,O),e(f,ne),e(f,F),e(F,y),e(y,v),e(v,_),e(v,ue),e(v,B),e(B,b),ke(b,s[0].limit),e(B,fe),e(B,z),e(B,Se),e(B,W),e(v,Oe),H&&H.m(v,null),e(y,ze),e(y,x),e(x,ee),e(x,Ue),e(x,R),e(R,N),ke(N,s[0].page),e(R,je),e(R,oe),e(R,qe),e(R,ce),e(y,Ye),e(y,te),e(te,le),e(te,Fe),e(te,ve),e(ve,_e),e(_e,U),e(U,J);for(let c=0;c<L.length;c+=1)L[c]&&L[c].m(U,null);ft(U,s[0].year,!0),e(y,Ge),e(y,ae),e(ae,pe),e(pe,G),e(G,Xe),e(ae,Ze),e(ae,de),Re||(at=[ie(V,"click",s[5]),ie(w,"click",s[6]),ie(b,"change",s[7]),ie(b,"input",s[8]),ie(N,"input",s[9]),ie(N,"change",s[10]),ie(U,"change",s[11]),ie(G,"click",s[4])],Re=!0)},p(o,[T]){if(T&4){ge=we(o[2].data);let c;for(c=0;c<ge.length;c+=1){const se=gt(o,ge,c);C[c]?C[c].p(se,T):(C[c]=bt(se),C[c].c(),C[c].m(P,null))}for(;c<C.length;c+=1)C[c].d(1);C.length=ge.length}if(T&11&&Z!==(Z=o[0].page==0||o[1])&&(V.disabled=Z),T&2&&(w.disabled=o[1]),T&9&&Be(b.value)!==o[0].limit&&ke(b,o[0].limit),T&1&&Pe(W,"is-danger",o[0].limit>100),o[0].limit>100?H||(H=Et(),H.c(),H.m(v,null)):H&&(H.d(1),H=null),T&9&&Be(N.value)!==o[0].page&&ke(N,o[0].page),T&8){me=we(o[3]);let c;for(c=0;c<me.length;c+=1){const se=pt(o,me,c);L[c]?L[c].p(se,T):(L[c]=Tt(se),L[c].c(),L[c].m(U,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=me.length}T&9&&ft(U,o[0].year),T&2&&(G.disabled=o[1]),T&2&&Pe(G,"is-loading",o[1])},i:Ke,o:Ke,d(o){o&&d(t),vt(C,o),H&&H.d(),vt(L,o),Re=!1,Lt(at)}}}const kt=2018;function Pt(s,t,n){const h=Array.from({length:new Date().getFullYear()-kt+1},(D,V)=>kt+V);let a={page:0,limit:10,year:""},f=!1,I={data:[]};async function E(){n(1,f=!0);try{let D=await fetch(`${Ht}/xtz/delegations?page=${a.page}&limit=${a.limit}&year=${a.year}`);n(2,I=await D.json()),n(1,f=!1)}catch(D){console.error(D),n(1,f=!1)}}yt(()=>E());const A=()=>{a.page!=0&&(n(0,a.page=a.page-1,a),E())},M=()=>{n(0,a.page=a.page+1,a),E()},k=()=>{a.limit>100&&n(0,a.limit=100,a)};function S(){a.limit=Be(this.value),n(0,a),n(3,h)}function q(){a.page=Be(this.value),n(0,a),n(3,h)}const P=()=>{a.page<0&&n(0,a.page=0,a)};function X(){a.year=Vt(this),n(0,a),n(3,h)}return[a,f,I,h,E,A,M,k,S,q,P,X]}class zt extends It{constructor(t){super(),At(this,t,Pt,Mt,Dt,{})}}export{zt as component};
//# sourceMappingURL=4.a1f434af.js.map
