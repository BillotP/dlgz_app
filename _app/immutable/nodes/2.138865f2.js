import{s as Dt,f as Ct,n as Je,r as Lt,o as kt}from"../chunks/scheduler.883a76a4.js";import{S as It,i as At,g as n,s as g,m as G,h as i,j as u,y as O,c as b,f as d,n as X,k as l,l as Ve,A as He,B as Ee,a as De,z as e,C as ft,D as ne,E as Ne,F as vt,o as Me,G as yt}from"../chunks/index.4899e466.js";import{P as Vt}from"../chunks/public.a3e6d84f.js";function Pe(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function pt(s,t,r){const h=s.slice();return h[12]=t[r],h}function _t(s,t,r){const h=s.slice();return h[15]=t[r],h}function gt(s){let t,r,h;return{c(){t=n("a"),r=G("ðŸ”Ž"),this.h()},l(a){t=i(a,"A",{target:!0,href:!0});var v=u(t);r=X(v,"ðŸ”Ž"),v.forEach(d),this.h()},h(){l(t,"target","_blank"),l(t,"href",h=`https://tzstats.com/${s[15].delegator}`)},m(a,v){De(a,t,v),e(t,r)},p(a,v){v&4&&h!==(h=`https://tzstats.com/${a[15].delegator}`)&&l(t,"href",h)},d(a){a&&d(t)}}}function bt(s){let t,r,h=s[15].timestamp+"",a,v,A,E=Number(s[15].amount).toLocaleString()+"",y,M,C,j=(s[15].delegator.length>0?s[15].delegator:"ðŸ‘» ðŸ¥–")+"",q,N,Z,m,T=s[15].block+"",J,K,B,w,Q,ie,_=s[15].delegator.length>0&&gt(s);return{c(){t=n("tr"),r=n("th"),a=G(h),v=g(),A=n("td"),y=G(E),M=g(),C=n("td"),q=G(j),N=g(),_&&_.c(),Z=g(),m=n("td"),J=G(T),K=g(),B=n("a"),w=G("ðŸ”Ž"),ie=g(),this.h()},l(p){t=i(p,"TR",{});var f=u(t);r=i(f,"TH",{});var z=u(r);a=X(z,h),z.forEach(d),v=b(f),A=i(f,"TD",{});var Te=u(A);y=X(Te,E),Te.forEach(d),M=b(f),C=i(f,"TD",{});var W=u(C);q=X(W,j),N=b(W),_&&_.l(W),W.forEach(d),Z=b(f),m=i(f,"TD",{});var V=u(m);J=X(V,T),K=b(V),B=i(V,"A",{target:!0,href:!0});var L=u(B);w=X(L,"ðŸ”Ž"),L.forEach(d),V.forEach(d),ie=b(f),f.forEach(d),this.h()},h(){l(B,"target","_blank"),l(B,"href",Q=`https://tzstats.com/${s[15].block}`)},m(p,f){De(p,t,f),e(t,r),e(r,a),e(t,v),e(t,A),e(A,y),e(t,M),e(t,C),e(C,q),e(C,N),_&&_.m(C,null),e(t,Z),e(t,m),e(m,J),e(m,K),e(m,B),e(B,w),e(t,ie)},p(p,f){f&4&&h!==(h=p[15].timestamp+"")&&Me(a,h),f&4&&E!==(E=Number(p[15].amount).toLocaleString()+"")&&Me(y,E),f&4&&j!==(j=(p[15].delegator.length>0?p[15].delegator:"ðŸ‘» ðŸ¥–")+"")&&Me(q,j),p[15].delegator.length>0?_?_.p(p,f):(_=gt(p),_.c(),_.m(C,null)):_&&(_.d(1),_=null),f&4&&T!==(T=p[15].block+"")&&Me(J,T),f&4&&Q!==(Q=`https://tzstats.com/${p[15].block}`)&&l(B,"href",Q)},d(p){p&&d(t),_&&_.d()}}}function mt(s){let t,r="Max limit is 100";return{c(){t=n("p"),t.textContent=r,this.h()},l(h){t=i(h,"P",{class:!0,["data-svelte-h"]:!0}),O(t)!=="svelte-myoeey"&&(t.textContent=r),this.h()},h(){l(t,"class","help is-danger")},m(h,a){De(h,t,a)},d(h){h&&d(t)}}}function Et(s){let t,r=s[12]+"",h;return{c(){t=n("option"),h=G(r),this.h()},l(a){t=i(a,"OPTION",{});var v=u(t);h=X(v,r),v.forEach(d),this.h()},h(){t.__value=s[12],Ee(t,t.__value)},m(a,v){De(a,t,v),e(t,h)},p:Je,d(a){a&&d(t)}}}function Ht(s){let t,r,h='<div class="hero-body"><span><h1 class="title">Tezos Delegation Events</h1> <p class="subtitle">Ordered by most recent first</p></span></div>',a,v,A,E,y,M,C,j='<tr><th><abbr title="Timestamp">Ts</abbr></th> <th><abbr title="Amount in XTZ">XTZ Amount</abbr></th> <th><abbr title="Delegator Address">Delegator</abbr></th> <th><abbr title="Block Height">Block</abbr></th></tr>',q,N,Z,m,T,J,K,B,w,Q,ie,_,p,f,z,Te="Limit",W,V,L,we,re,Ke='<i class="fas fa-file"></i>',Be,R,Qe='<i class="fas fa-check"></i>',Se,Oe,x,$,We="Page",ze,Y,P,Ue,oe,xe='<i class="fas fa-file"></i>',je,ce,$e='<i class="fas fa-check"></i>',qe,ee,te,et="Year",Ye,ue,fe,S,F,tt="Any",Fe,le,ve,U,Ge,Xe,de,lt='<button class="button is-link is-light">Cancel</button>',Ze,st,pe=Pe(s[2].data),k=[];for(let o=0;o<pe.length;o+=1)k[o]=bt(_t(s,pe,o));let H=s[0].limit>100&&mt(),_e=Pe(s[3]),I=[];for(let o=0;o<_e.length;o+=1)I[o]=Et(pt(s,_e,o));return{c(){t=n("div"),r=n("div"),r.innerHTML=h,a=g(),v=n("div"),A=n("div"),E=n("div"),y=n("div"),M=n("table"),C=n("thead"),C.innerHTML=j,q=g(),N=n("tbody");for(let o=0;o<k.length;o+=1)k[o].c();Z=g(),m=n("nav"),T=n("button"),J=G("Previous"),B=g(),w=n("button"),Q=G("Next page"),ie=g(),_=n("div"),p=n("div"),f=n("div"),z=n("label"),z.textContent=Te,W=g(),V=n("div"),L=n("input"),we=g(),re=n("span"),re.innerHTML=Ke,Be=g(),R=n("span"),R.innerHTML=Qe,Se=g(),H&&H.c(),Oe=g(),x=n("div"),$=n("label"),$.textContent=We,ze=g(),Y=n("div"),P=n("input"),Ue=g(),oe=n("span"),oe.innerHTML=xe,je=g(),ce=n("span"),ce.innerHTML=$e,qe=g(),ee=n("div"),te=n("label"),te.textContent=et,Ye=g(),ue=n("div"),fe=n("div"),S=n("select"),F=n("option"),F.textContent=tt;for(let o=0;o<I.length;o+=1)I[o].c();Fe=g(),le=n("div"),ve=n("div"),U=n("button"),Ge=G("Submit"),Xe=g(),de=n("div"),de.innerHTML=lt,this.h()},l(o){t=i(o,"DIV",{class:!0});var D=u(t);r=i(D,"DIV",{class:!0,["data-svelte-h"]:!0}),O(r)!=="svelte-ka05lo"&&(r.innerHTML=h),a=b(D),v=i(D,"DIV",{class:!0});var c=u(v);A=i(c,"DIV",{class:!0});var se=u(A);E=i(se,"DIV",{class:!0});var Ce=u(E);y=i(Ce,"DIV",{class:!0,style:!0});var at=u(y);M=i(at,"TABLE",{class:!0});var Le=u(M);C=i(Le,"THEAD",{style:!0,["data-svelte-h"]:!0}),O(C)!=="svelte-o9bckt"&&(C.innerHTML=j),q=b(Le),N=i(Le,"TBODY",{style:!0});var nt=u(N);for(let he=0;he<k.length;he+=1)k[he].l(nt);nt.forEach(d),Le.forEach(d),at.forEach(d),Z=b(Ce),m=i(Ce,"NAV",{class:!0,"aria-label":!0});var ke=u(m);T=i(ke,"BUTTON",{class:!0});var it=u(T);J=X(it,"Previous"),it.forEach(d),B=b(ke),w=i(ke,"BUTTON",{class:!0});var rt=u(w);Q=X(rt,"Next page"),rt.forEach(d),ke.forEach(d),Ce.forEach(d),se.forEach(d),ie=b(c),_=i(c,"DIV",{class:!0});var ot=u(_);p=i(ot,"DIV",{class:!0});var ae=u(p);f=i(ae,"DIV",{class:!0});var ge=u(f);z=i(ge,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),O(z)!=="svelte-1xsqupv"&&(z.textContent=Te),W=b(ge),V=i(ge,"DIV",{class:!0});var be=u(V);L=i(be,"INPUT",{id:!0,class:!0,type:!0,step:!0,min:!0,max:!0,placeholder:!0}),we=b(be),re=i(be,"SPAN",{class:!0,["data-svelte-h"]:!0}),O(re)!=="svelte-1w12yst"&&(re.innerHTML=Ke),Be=b(be),R=i(be,"SPAN",{class:!0,["data-svelte-h"]:!0}),O(R)!=="svelte-yh3kr7"&&(R.innerHTML=Qe),be.forEach(d),Se=b(ge),H&&H.l(ge),ge.forEach(d),Oe=b(ae),x=i(ae,"DIV",{class:!0});var Ie=u(x);$=i(Ie,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),O($)!=="svelte-1uc60ab"&&($.textContent=We),ze=b(Ie),Y=i(Ie,"DIV",{class:!0});var me=u(Y);P=i(me,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0,step:!0,min:!0}),Ue=b(me),oe=i(me,"SPAN",{class:!0,["data-svelte-h"]:!0}),O(oe)!=="svelte-1w12yst"&&(oe.innerHTML=xe),je=b(me),ce=i(me,"SPAN",{class:!0,["data-svelte-h"]:!0}),O(ce)!=="svelte-1jqowi8"&&(ce.innerHTML=$e),me.forEach(d),Ie.forEach(d),qe=b(ae),ee=i(ae,"DIV",{class:!0});var Ae=u(ee);te=i(Ae,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),O(te)!=="svelte-1hlj0sz"&&(te.textContent=et),Ye=b(Ae),ue=i(Ae,"DIV",{class:!0});var ct=u(ue);fe=i(ct,"DIV",{class:!0});var dt=u(fe);S=i(dt,"SELECT",{id:!0});var Re=u(S);F=i(Re,"OPTION",{["data-svelte-h"]:!0}),O(F)!=="svelte-gccd3x"&&(F.textContent=tt);for(let he=0;he<I.length;he+=1)I[he].l(Re);Re.forEach(d),dt.forEach(d),ct.forEach(d),Ae.forEach(d),Fe=b(ae),le=i(ae,"DIV",{class:!0});var ye=u(le);ve=i(ye,"DIV",{class:!0});var ht=u(ve);U=i(ht,"BUTTON",{class:!0});var ut=u(U);Ge=X(ut,"Submit"),ut.forEach(d),ht.forEach(d),Xe=b(ye),de=i(ye,"DIV",{class:!0,["data-svelte-h"]:!0}),O(de)!=="svelte-iq74vg"&&(de.innerHTML=lt),ye.forEach(d),ae.forEach(d),ot.forEach(d),c.forEach(d),D.forEach(d),this.h()},h(){l(r,"class","hero is-small is-primary"),Ve(C,"width","100%"),Ve(N,"height","100%"),l(M,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth"),l(y,"class","table-container"),Ve(y,"height","35vh"),Ve(y,"overflow-y","scroll"),l(T,"class","pagination-previous"),T.disabled=K=s[0].page==0||s[1],l(w,"class","pagination-next"),w.disabled=s[1],l(m,"class","pagination is-centered"),l(m,"aria-label","pagination"),l(E,"class","card p-2"),l(A,"class","column"),l(z,"for","limit"),l(z,"class","label"),l(L,"id","limit"),l(L,"class","input"),l(L,"type","number"),l(L,"step","1"),l(L,"min","1"),l(L,"max","100"),l(L,"placeholder","Max results per page"),l(re,"class","icon is-small is-left"),l(R,"class","icon is-small is-right"),He(R,"is-danger",s[0].limit>100),l(V,"class","control has-icons-left has-icons-right"),l(f,"class","field"),l($,"for","page"),l($,"class","label"),l(P,"id","page"),l(P,"class","input is-success"),l(P,"type","number"),l(P,"placeholder","Page setting"),l(P,"step","1"),l(P,"min","0"),l(oe,"class","icon is-small is-left"),l(ce,"class","icon is-small is-right"),l(Y,"class","control has-icons-left has-icons-right"),l(x,"class","field"),l(te,"for","year"),l(te,"class","label"),F.selected=!0,F.__value="",Ee(F,F.__value),l(S,"id","year"),s[0].year===void 0&&Ct(()=>s[11].call(S)),l(fe,"class","select is-rounded is-fullwidth"),l(ue,"class","control is-expanded"),l(ee,"class","field"),l(U,"class","button is-link"),U.disabled=s[1],He(U,"is-loading",s[1]),l(ve,"class","control"),l(de,"class","control"),l(le,"class","field is-grouped"),l(p,"class","card p-2"),l(_,"class","column"),l(v,"class","colums is-mobile"),l(t,"class","hero is-fullheight-with-navbar")},m(o,D){De(o,t,D),e(t,r),e(t,a),e(t,v),e(v,A),e(A,E),e(E,y),e(y,M),e(M,C),e(M,q),e(M,N);for(let c=0;c<k.length;c+=1)k[c]&&k[c].m(N,null);e(E,Z),e(E,m),e(m,T),e(T,J),e(m,B),e(m,w),e(w,Q),e(v,ie),e(v,_),e(_,p),e(p,f),e(f,z),e(f,W),e(f,V),e(V,L),Ee(L,s[0].limit),e(V,we),e(V,re),e(V,Be),e(V,R),e(f,Se),H&&H.m(f,null),e(p,Oe),e(p,x),e(x,$),e(x,ze),e(x,Y),e(Y,P),Ee(P,s[0].page),e(Y,Ue),e(Y,oe),e(Y,je),e(Y,ce),e(p,qe),e(p,ee),e(ee,te),e(ee,Ye),e(ee,ue),e(ue,fe),e(fe,S),e(S,F);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(S,null);ft(S,s[0].year,!0),e(p,Fe),e(p,le),e(le,ve),e(ve,U),e(U,Ge),e(le,Xe),e(le,de),Ze||(st=[ne(T,"click",s[5]),ne(w,"click",s[6]),ne(L,"change",s[7]),ne(L,"input",s[8]),ne(P,"input",s[9]),ne(P,"change",s[10]),ne(S,"change",s[11]),ne(U,"click",s[4])],Ze=!0)},p(o,[D]){if(D&4){pe=Pe(o[2].data);let c;for(c=0;c<pe.length;c+=1){const se=_t(o,pe,c);k[c]?k[c].p(se,D):(k[c]=bt(se),k[c].c(),k[c].m(N,null))}for(;c<k.length;c+=1)k[c].d(1);k.length=pe.length}if(D&11&&K!==(K=o[0].page==0||o[1])&&(T.disabled=K),D&2&&(w.disabled=o[1]),D&9&&Ne(L.value)!==o[0].limit&&Ee(L,o[0].limit),D&1&&He(R,"is-danger",o[0].limit>100),o[0].limit>100?H||(H=mt(),H.c(),H.m(f,null)):H&&(H.d(1),H=null),D&9&&Ne(P.value)!==o[0].page&&Ee(P,o[0].page),D&8){_e=Pe(o[3]);let c;for(c=0;c<_e.length;c+=1){const se=pt(o,_e,c);I[c]?I[c].p(se,D):(I[c]=Et(se),I[c].c(),I[c].m(S,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=_e.length}D&9&&ft(S,o[0].year),D&2&&(U.disabled=o[1]),D&2&&He(U,"is-loading",o[1])},i:Je,o:Je,d(o){o&&d(t),vt(k,o),H&&H.d(),vt(I,o),Ze=!1,Lt(st)}}}const Tt=2018;function Mt(s,t,r){const h=Array.from({length:new Date().getFullYear()-Tt+1},(m,T)=>Tt+T);let a={page:0,limit:10,year:""},v=!1,A={data:[]};async function E(){r(1,v=!0);try{let T=await fetch(`${Vt}/xtz/delegations?page=${a.page}&limit=${a.limit}&year=${a.year}`);r(2,A=await T.json()),r(1,v=!1)}catch(m){console.error(m),r(1,v=!1)}}kt(()=>E());const y=()=>{a.page!=0&&(r(0,a.page=a.page-1,a),E())},M=()=>{r(0,a.page=a.page+1,a),E()},C=()=>{a.limit>100&&r(0,a.limit=100,a)};function j(){a.limit=Ne(this.value),r(0,a),r(3,h)}function q(){a.page=Ne(this.value),r(0,a),r(3,h)}const N=()=>{a.page<0&&r(0,a.page=0,a)};function Z(){a.year=yt(this),r(0,a),r(3,h)}return[a,v,A,h,E,y,M,C,j,q,N,Z]}class Bt extends It{constructor(t){super(),At(this,t,Mt,Ht,Dt,{})}}export{Bt as component};
//# sourceMappingURL=2.138865f2.js.map
