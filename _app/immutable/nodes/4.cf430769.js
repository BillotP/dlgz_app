import{s as kt,f as Dt,n as Je,r as Ct,o as Lt}from"../chunks/scheduler.883a76a4.js";import{S as yt,i as It,g as s,s as g,m as G,h as i,j as u,y as S,c as m,f as d,n as X,k as l,l as He,A as Pe,B as Te,a as De,z as e,C as ft,D as ie,E as we,F as vt,o as Me,G as At}from"../chunks/index.b1c84ff3.js";import{e as Ne}from"../chunks/each.e59479a4.js";import{P as Vt}from"../chunks/public.a3e6d84f.js";import"../chunks/paths.36d64ec4.js";function _t(r,t,n){const h=r.slice();return h[12]=t[n],h}function pt(r,t,n){const h=r.slice();return h[15]=t[n],h}function gt(r){let t,n,h;return{c(){t=s("a"),n=G("ðŸ”Ž"),this.h()},l(a){t=i(a,"A",{target:!0,href:!0});var f=u(t);n=X(f,"ðŸ”Ž"),f.forEach(d),this.h()},h(){l(t,"target","_blank"),l(t,"href",h=`https://tzstats.com/${r[15].delegator}`)},m(a,f){De(a,t,f),e(t,n)},p(a,f){f&4&&h!==(h=`https://tzstats.com/${a[15].delegator}`)&&l(t,"href",h)},d(a){a&&d(t)}}}function mt(r){let t,n,h=r[15].timestamp+"",a,f,A,b=(Number(r[15].amount)/1e6).toLocaleString()+"",V,M,k,U,O=""+(r[15].delegator.length>0?r[15].delegator:"ðŸ‘» ðŸ¥–"),N,Z,D,E,R=r[15].block+"",J,re,C,ne,Q,j,v=r[15].delegator.length>0&&gt(r);return{c(){t=s("tr"),n=s("th"),a=G(h),f=g(),A=s("td"),V=G(b),M=g(),k=s("td"),U=s("p"),N=G(O),Z=g(),v&&v.c(),D=g(),E=s("td"),J=G(R),re=g(),C=s("a"),ne=G("ðŸ”Ž"),j=g(),this.h()},l(_){t=i(_,"TR",{});var p=u(t);n=i(p,"TH",{});var ke=u(n);a=X(ke,h),ke.forEach(d),f=m(p),A=i(p,"TD",{});var ue=u(A);V=X(ue,b),ue.forEach(d),M=m(p),k=i(p,"TD",{});var H=u(k);U=i(H,"P",{});var L=u(U);N=X(L,O),L.forEach(d),Z=m(H),v&&v.l(H),H.forEach(d),D=m(p),E=i(p,"TD",{});var W=u(E);J=X(W,R),re=m(W),C=i(W,"A",{target:!0,href:!0});var q=u(C);ne=X(q,"ðŸ”Ž"),q.forEach(d),W.forEach(d),j=m(p),p.forEach(d),this.h()},h(){l(C,"target","_blank"),l(C,"href",Q=`https://tzstats.com/${r[15].block}`)},m(_,p){De(_,t,p),e(t,n),e(n,a),e(t,f),e(t,A),e(A,V),e(t,M),e(t,k),e(k,U),e(U,N),e(k,Z),v&&v.m(k,null),e(t,D),e(t,E),e(E,J),e(E,re),e(E,C),e(C,ne),e(t,j)},p(_,p){p&4&&h!==(h=_[15].timestamp+"")&&Me(a,h),p&4&&b!==(b=(Number(_[15].amount)/1e6).toLocaleString()+"")&&Me(V,b),p&4&&O!==(O=""+(_[15].delegator.length>0?_[15].delegator:"ðŸ‘» ðŸ¥–"))&&Me(N,O),_[15].delegator.length>0?v?v.p(_,p):(v=gt(_),v.c(),v.m(k,null)):v&&(v.d(1),v=null),p&4&&R!==(R=_[15].block+"")&&Me(J,R),p&4&&Q!==(Q=`https://tzstats.com/${_[15].block}`)&&l(C,"href",Q)},d(_){_&&d(t),v&&v.d()}}}function bt(r){let t,n="Max limit is 100";return{c(){t=s("p"),t.textContent=n,this.h()},l(h){t=i(h,"P",{class:!0,["data-svelte-h"]:!0}),S(t)!=="svelte-myoeey"&&(t.textContent=n),this.h()},h(){l(t,"class","help is-danger")},m(h,a){De(h,t,a)},d(h){h&&d(t)}}}function Et(r){let t,n=r[12]+"",h;return{c(){t=s("option"),h=G(n),this.h()},l(a){t=i(a,"OPTION",{});var f=u(t);h=X(f,n),f.forEach(d),this.h()},h(){t.__value=r[12],Te(t,t.__value)},m(a,f){De(a,t,f),e(t,h)},p:Je,d(a){a&&d(t)}}}function Ht(r){let t,n,h='<div class="hero-body"><span><h1 class="title">Tezos Delegation Events</h1> <p class="subtitle">Ordered by most recent first</p></span></div>',a,f,A,b,V,M,k,U='<tr><th><abbr title="Timestamp">Ts</abbr></th> <th><abbr title="Amount in XTZ">XTZ Amount</abbr></th> <th><abbr title="Delegator Address">Delegator</abbr></th> <th><abbr title="Block Height">Block</abbr></th></tr>',O,N,Z,D,E,R,J,re,C,ne,Q,j,v,_,p,ke="Limit",ue,H,L,W,q,Ke='<i class="fas fa-file"></i>',Be,K,Qe='<i class="fas fa-check"></i>',Se,Oe,x,$,We="Page",ze,Y,w,Ue,oe,xe='<i class="fas fa-file"></i>',je,ce,$e='<i class="fas fa-check"></i>',qe,ee,te,et="Year",Ye,fe,ve,B,F,tt="Any",Fe,le,_e,z,Ge,Xe,de,lt='<button class="button is-link is-light">Cancel</button>',Ze,at,pe=Ne(r[2].data),y=[];for(let o=0;o<pe.length;o+=1)y[o]=mt(pt(r,pe,o));let P=r[0].limit>100&&bt(),ge=Ne(r[3]),I=[];for(let o=0;o<ge.length;o+=1)I[o]=Et(_t(r,ge,o));return{c(){t=s("div"),n=s("div"),n.innerHTML=h,a=g(),f=s("div"),A=s("div"),b=s("div"),V=s("div"),M=s("table"),k=s("thead"),k.innerHTML=U,O=g(),N=s("tbody");for(let o=0;o<y.length;o+=1)y[o].c();Z=g(),D=s("nav"),E=s("button"),R=G("Previous"),re=g(),C=s("button"),ne=G("Next page"),Q=g(),j=s("div"),v=s("div"),_=s("div"),p=s("label"),p.textContent=ke,ue=g(),H=s("div"),L=s("input"),W=g(),q=s("span"),q.innerHTML=Ke,Be=g(),K=s("span"),K.innerHTML=Qe,Se=g(),P&&P.c(),Oe=g(),x=s("div"),$=s("label"),$.textContent=We,ze=g(),Y=s("div"),w=s("input"),Ue=g(),oe=s("span"),oe.innerHTML=xe,je=g(),ce=s("span"),ce.innerHTML=$e,qe=g(),ee=s("div"),te=s("label"),te.textContent=et,Ye=g(),fe=s("div"),ve=s("div"),B=s("select"),F=s("option"),F.textContent=tt;for(let o=0;o<I.length;o+=1)I[o].c();Fe=g(),le=s("div"),_e=s("div"),z=s("button"),Ge=G("Submit"),Xe=g(),de=s("div"),de.innerHTML=lt,this.h()},l(o){t=i(o,"DIV",{class:!0});var T=u(t);n=i(T,"DIV",{class:!0,["data-svelte-h"]:!0}),S(n)!=="svelte-ka05lo"&&(n.innerHTML=h),a=m(T),f=i(T,"DIV",{class:!0});var c=u(f);A=i(c,"DIV",{class:!0});var ae=u(A);b=i(ae,"DIV",{class:!0});var Ce=u(b);V=i(Ce,"DIV",{class:!0,style:!0});var st=u(V);M=i(st,"TABLE",{class:!0});var Le=u(M);k=i(Le,"THEAD",{style:!0,["data-svelte-h"]:!0}),S(k)!=="svelte-o9bckt"&&(k.innerHTML=U),O=m(Le),N=i(Le,"TBODY",{style:!0});var it=u(N);for(let he=0;he<y.length;he+=1)y[he].l(it);it.forEach(d),Le.forEach(d),st.forEach(d),Z=m(Ce),D=i(Ce,"NAV",{class:!0,"aria-label":!0});var ye=u(D);E=i(ye,"BUTTON",{class:!0});var rt=u(E);R=X(rt,"Previous"),rt.forEach(d),re=m(ye),C=i(ye,"BUTTON",{class:!0});var nt=u(C);ne=X(nt,"Next page"),nt.forEach(d),ye.forEach(d),Ce.forEach(d),ae.forEach(d),Q=m(c),j=i(c,"DIV",{class:!0});var ot=u(j);v=i(ot,"DIV",{class:!0});var se=u(v);_=i(se,"DIV",{class:!0});var me=u(_);p=i(me,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),S(p)!=="svelte-1xsqupv"&&(p.textContent=ke),ue=m(me),H=i(me,"DIV",{class:!0});var be=u(H);L=i(be,"INPUT",{id:!0,class:!0,type:!0,step:!0,min:!0,max:!0,placeholder:!0}),W=m(be),q=i(be,"SPAN",{class:!0,["data-svelte-h"]:!0}),S(q)!=="svelte-1w12yst"&&(q.innerHTML=Ke),Be=m(be),K=i(be,"SPAN",{class:!0,["data-svelte-h"]:!0}),S(K)!=="svelte-yh3kr7"&&(K.innerHTML=Qe),be.forEach(d),Se=m(me),P&&P.l(me),me.forEach(d),Oe=m(se),x=i(se,"DIV",{class:!0});var Ie=u(x);$=i(Ie,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),S($)!=="svelte-1uc60ab"&&($.textContent=We),ze=m(Ie),Y=i(Ie,"DIV",{class:!0});var Ee=u(Y);w=i(Ee,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0,step:!0,min:!0}),Ue=m(Ee),oe=i(Ee,"SPAN",{class:!0,["data-svelte-h"]:!0}),S(oe)!=="svelte-1w12yst"&&(oe.innerHTML=xe),je=m(Ee),ce=i(Ee,"SPAN",{class:!0,["data-svelte-h"]:!0}),S(ce)!=="svelte-1jqowi8"&&(ce.innerHTML=$e),Ee.forEach(d),Ie.forEach(d),qe=m(se),ee=i(se,"DIV",{class:!0});var Ae=u(ee);te=i(Ae,"LABEL",{for:!0,class:!0,["data-svelte-h"]:!0}),S(te)!=="svelte-1hlj0sz"&&(te.textContent=et),Ye=m(Ae),fe=i(Ae,"DIV",{class:!0});var ct=u(fe);ve=i(ct,"DIV",{class:!0});var dt=u(ve);B=i(dt,"SELECT",{id:!0});var Re=u(B);F=i(Re,"OPTION",{["data-svelte-h"]:!0}),S(F)!=="svelte-gccd3x"&&(F.textContent=tt);for(let he=0;he<I.length;he+=1)I[he].l(Re);Re.forEach(d),dt.forEach(d),ct.forEach(d),Ae.forEach(d),Fe=m(se),le=i(se,"DIV",{class:!0});var Ve=u(le);_e=i(Ve,"DIV",{class:!0});var ht=u(_e);z=i(ht,"BUTTON",{class:!0});var ut=u(z);Ge=X(ut,"Submit"),ut.forEach(d),ht.forEach(d),Xe=m(Ve),de=i(Ve,"DIV",{class:!0,["data-svelte-h"]:!0}),S(de)!=="svelte-iq74vg"&&(de.innerHTML=lt),Ve.forEach(d),se.forEach(d),ot.forEach(d),c.forEach(d),T.forEach(d),this.h()},h(){l(n,"class","hero is-small is-primary"),He(k,"width","100%"),He(N,"height","100%"),l(M,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth"),l(V,"class","table-container"),He(V,"height","35vh"),He(V,"overflow-y","scroll"),l(E,"class","pagination-previous"),E.disabled=J=r[0].page==0||r[1],l(C,"class","pagination-next"),C.disabled=r[1],l(D,"class","pagination is-centered"),l(D,"aria-label","pagination"),l(b,"class","card p-2"),l(A,"class","column"),l(p,"for","limit"),l(p,"class","label"),l(L,"id","limit"),l(L,"class","input"),l(L,"type","number"),l(L,"step","1"),l(L,"min","1"),l(L,"max","100"),l(L,"placeholder","Max results per page"),l(q,"class","icon is-small is-left"),l(K,"class","icon is-small is-right"),Pe(K,"is-danger",r[0].limit>100),l(H,"class","control has-icons-left has-icons-right"),l(_,"class","field"),l($,"for","page"),l($,"class","label"),l(w,"id","page"),l(w,"class","input is-success"),l(w,"type","number"),l(w,"placeholder","Page setting"),l(w,"step","1"),l(w,"min","0"),l(oe,"class","icon is-small is-left"),l(ce,"class","icon is-small is-right"),l(Y,"class","control has-icons-left has-icons-right"),l(x,"class","field"),l(te,"for","year"),l(te,"class","label"),F.selected=!0,F.__value="",Te(F,F.__value),l(B,"id","year"),r[0].year===void 0&&Dt(()=>r[11].call(B)),l(ve,"class","select is-rounded is-fullwidth"),l(fe,"class","control is-expanded"),l(ee,"class","field"),l(z,"class","button is-link"),z.disabled=r[1],Pe(z,"is-loading",r[1]),l(_e,"class","control"),l(de,"class","control"),l(le,"class","field is-grouped"),l(v,"class","card p-2"),l(j,"class","column"),l(f,"class","colums is-mobile"),l(t,"class","hero is-fullheight-with-navbar")},m(o,T){De(o,t,T),e(t,n),e(t,a),e(t,f),e(f,A),e(A,b),e(b,V),e(V,M),e(M,k),e(M,O),e(M,N);for(let c=0;c<y.length;c+=1)y[c]&&y[c].m(N,null);e(b,Z),e(b,D),e(D,E),e(E,R),e(D,re),e(D,C),e(C,ne),e(f,Q),e(f,j),e(j,v),e(v,_),e(_,p),e(_,ue),e(_,H),e(H,L),Te(L,r[0].limit),e(H,W),e(H,q),e(H,Be),e(H,K),e(_,Se),P&&P.m(_,null),e(v,Oe),e(v,x),e(x,$),e(x,ze),e(x,Y),e(Y,w),Te(w,r[0].page),e(Y,Ue),e(Y,oe),e(Y,je),e(Y,ce),e(v,qe),e(v,ee),e(ee,te),e(ee,Ye),e(ee,fe),e(fe,ve),e(ve,B),e(B,F);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(B,null);ft(B,r[0].year,!0),e(v,Fe),e(v,le),e(le,_e),e(_e,z),e(z,Ge),e(le,Xe),e(le,de),Ze||(at=[ie(E,"click",r[5]),ie(C,"click",r[6]),ie(L,"change",r[7]),ie(L,"input",r[8]),ie(w,"input",r[9]),ie(w,"change",r[10]),ie(B,"change",r[11]),ie(z,"click",r[4])],Ze=!0)},p(o,[T]){if(T&4){pe=Ne(o[2].data);let c;for(c=0;c<pe.length;c+=1){const ae=pt(o,pe,c);y[c]?y[c].p(ae,T):(y[c]=mt(ae),y[c].c(),y[c].m(N,null))}for(;c<y.length;c+=1)y[c].d(1);y.length=pe.length}if(T&11&&J!==(J=o[0].page==0||o[1])&&(E.disabled=J),T&2&&(C.disabled=o[1]),T&9&&we(L.value)!==o[0].limit&&Te(L,o[0].limit),T&1&&Pe(K,"is-danger",o[0].limit>100),o[0].limit>100?P||(P=bt(),P.c(),P.m(_,null)):P&&(P.d(1),P=null),T&9&&we(w.value)!==o[0].page&&Te(w,o[0].page),T&8){ge=Ne(o[3]);let c;for(c=0;c<ge.length;c+=1){const ae=_t(o,ge,c);I[c]?I[c].p(ae,T):(I[c]=Et(ae),I[c].c(),I[c].m(B,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=ge.length}T&9&&ft(B,o[0].year),T&2&&(z.disabled=o[1]),T&2&&Pe(z,"is-loading",o[1])},i:Je,o:Je,d(o){o&&d(t),vt(y,o),P&&P.d(),vt(I,o),Ze=!1,Ct(at)}}}const Tt=2018;function Pt(r,t,n){const h=Array.from({length:new Date().getFullYear()-Tt+1},(D,E)=>Tt+E);let a={page:0,limit:10,year:""},f=!1,A={data:[]};async function b(){n(1,f=!0);try{let D=await fetch(`${Vt}/xtz/delegations?page=${a.page}&limit=${a.limit}&year=${a.year}`);n(2,A=await D.json()),n(1,f=!1)}catch(D){console.error(D),n(1,f=!1)}}Lt(()=>b());const V=()=>{a.page!=0&&(n(0,a.page=a.page-1,a),b())},M=()=>{n(0,a.page=a.page+1,a),b()},k=()=>{a.limit>100&&n(0,a.limit=100,a)};function U(){a.limit=we(this.value),n(0,a),n(3,h)}function O(){a.page=we(this.value),n(0,a),n(3,h)}const N=()=>{a.page<0&&n(0,a.page=0,a)};function Z(){a.year=At(this),n(0,a),n(3,h)}return[a,f,A,h,b,V,M,k,U,O,N,Z]}class Ot extends yt{constructor(t){super(),It(this,t,Pt,Ht,kt,{})}}export{Ot as component};
//# sourceMappingURL=4.cf430769.js.map
